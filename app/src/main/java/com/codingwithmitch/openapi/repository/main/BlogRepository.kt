package com.codingwithmitch.openapi.repository.main

import com.codingwithmitch.openapi.models.AuthToken
import com.codingwithmitch.openapi.models.BlogPost
import com.codingwithmitch.openapi.ui.main.blog.state.BlogViewState
import com.codingwithmitch.openapi.util.DataState
import com.codingwithmitch.openapi.util.StateEvent
import kotlinx.coroutines.flow.Flow
import okhttp3.MultipartBody
import okhttp3.RequestBody

interface BlogRepository {

	fun searchBlogPosts(
		authToken: AuthToken,
		query: String,
		filterAndOrder: String,
		page: Int,
		stateEvent: StateEvent
	): Flow<DataState<out Any?>>

	fun isAuthorOfBlogPost(
		authToken: AuthToken,
		slug: String,
		stateEvent: StateEvent
	): Flow<DataState<BlogViewState>>

	fun deleteBlogPost(
		authToken: AuthToken,
		blogPost: BlogPost,
		stateEvent: StateEvent
	): Flow<DataState<BlogViewState>>

	fun updateBlogPost(
		authToken: AuthToken,
		slug: String,
		title: RequestBody,
		body: RequestBody,
		image: MultipartBody.Part?,
		stateEvent: StateEvent
	): Flow<DataState<BlogViewState>>

}